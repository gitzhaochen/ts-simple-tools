import"core-js/modules/es.array.for-each";import"core-js/modules/es.array.index-of";import"core-js/modules/es.object.assign";import"core-js/modules/es.object.keys";import"core-js/modules/web.dom-collections.for-each";import e from"@babel/runtime/helpers/esm/classCallCheck";import o from"@babel/runtime/helpers/esm/createClass";var i=new(function(){function i(){var o,t;e(this,i),this.options={alwaysShow:!1,style:{position:"relative",lineHeight:2,zIndex:9999,textAlign:"center",backgroundColor:"#f7f7cf",color:"#333333",fontSize:"12px"},noTipBtnStyle:{cursor:"pointer",color:"#007acc"}},this.type=(o=0,t=window.screen,navigator.userAgent.toLowerCase().indexOf("msie")?t.deviceXDPI&&t.logicalXDPI&&(o=t.deviceXDPI/t.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(o=window.outerWidth/window.innerWidth),o&&(o=Math.round(100*o)),o>100?"放大":"缩放")}return o(i,[{key:"render",value:function(){var e=this.options,o=e.style,i=void 0===o?{}:o,t=e.noTipBtnStyle,n=void 0===t?{}:t,r=document.createElement("div"),s=document.createElement("span");r.id="ZgWinScaleTip",Object.keys(i).forEach((function(e){r.style[e]=i[e]})),r.innerHTML="<span>您的浏览器处于".concat(this.type,"状态，会导致页面显示不正常，您可以键盘按“ctrl+数字0”组合键恢复初始状态。</span>"),s.id="ZgWinScaleTip-nobtn",s.innerHTML="不再提示",Object.keys(n).forEach((function(e){s.style[e]=n[e]})),r.appendChild(s),document.body.insertBefore(r,document.body.firstChild),s.addEventListener("click",(function(){window.localStorage.setItem("ZgWinScaleTip","hidden"),r.parentNode&&r.parentNode.removeChild(r)}))}},{key:"init",value:function(e){if(!document.querySelector("#ZgWinScaleTip")){var o=e||{},i=o.style,t=void 0===i?{}:i,n=o.noTipBtnStyle,r=void 0===n?{}:n,s=o.alwaysShow,c=void 0!==s&&s;Object.assign(this.options.style,t),Object.assign(this.options.noTipBtnStyle,r),this.options.alwaysShow=c,(c||"hidden"!==window.localStorage.getItem("ZgWinScaleTip"))&&this.render()}}}]),i}());export{i as windowScaleTip};
